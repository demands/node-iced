#!/usr/bin/env node

// Generated by CoffeeScript 1.6.3
var glacier, knownOpts, nopt, parsedOptions, shortHands;

exports.command = {
  description: 'Manages the vaults in an Amazon Glacier account.'
};

if (require.main === module) {
  glacier = require('../lib/glacier');
  nopt = require('nopt');
  knownOpts = {
    create: String
  };
  shortHands = {
    c: ['--create']
  };
  parsedOptions = nopt(knownOpts, shortHands, process.argv);
  if (parsedOptions.create != null) {
    glacier.createVault({
      vaultName: parsedOptions.create
    }, function(err, data) {
      return console.log("Created new vault " + parsedOptions.create);
    });
  } else {
    glacier.listVaults(function(err, data) {
      var vault, _i, _len, _ref;
      _ref = data.VaultList;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        vault = _ref[_i];
        console.log(vault.VaultName);
      }
      return process.exit(0);
    });
  }
}
