#!/usr/bin/env node

// Generated by CoffeeScript 1.6.3
var aws, config, glacier, pkg, rc;

pkg = require('../package.json');

exports.command = {
  description: 'Manages the vaults in an Amazon Glacier account.'
};

if (require.main === module) {
  aws = require('aws-sdk');
  rc = require('rc')(pkg.name, {
    endpoint: null,
    aws_access_key: null,
    aws_access_key_id: null,
    aws_region: null
  });
  aws.config.update({
    accessKeyId: rc.aws_access_key_id,
    secretAccessKey: rc.aws_access_key,
    region: rc.aws_region
  });
  config = {
    apiVersion: '2012-06-01'
  };
  if (rc.endpoint) {
    config.endpoint = rc.endpoint;
  }
  glacier = new aws.Glacier(config);
  glacier.listVaults(function(err, data) {
    var vault, _i, _len, _ref;
    _ref = data.VaultList;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      vault = _ref[_i];
      console.log(vault.VaultName);
    }
    return process.exit(0);
  });
}
